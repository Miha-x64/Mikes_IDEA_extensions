plugins {
    id "org.jetbrains.intellij" version "1.1.6"
    id 'org.jetbrains.kotlin.jvm' version "1.5.30"
}

group 'net.aquadc.mike'
version '0.12'

repositories {
    mavenCentral()
}

dependencies {
    implementation "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
}

// See https://github.com/JetBrains/gradle-intellij-plugin/
intellij {
    version = '2020.3'
    plugins = ['java', 'Kotlin', 'android']
    updateSinceUntilBuild = false
}
compileJava {
    targetCompatibility = '11'
    sourceCompatibility = '11'
}
compileKotlin {
    kotlinOptions {
        jvmTarget = "11"
        languageVersion = "1.5"
    }
}
compileTestKotlin {
    kotlinOptions.jvmTarget = "11"
}
patchPluginXml {
    changeNotes = """<ul>
<li>Upgrade min IntelliJ to 2020.3, jvmTarget to 11, Kotlin to 1.5.30</li>
<li>Fix crash in TargetApiInspection</li>
</ul>"""
}
